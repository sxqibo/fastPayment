<?php

namespace Sxqibo\FastPayment\NewPay;

final class NewPayCode
{
    private $resultCode = [
        '0000' => '交易成功',
        '4444' => '交易失败',
        '5555' => '交易失效',
        '9999' => '交易进行中',
        '0401' => '基本数据校验失败',
        '0402' => '校验业务参数失败',
        '0403' => '查询商户请求网关历史记录失败',
        '0404' => '查询API-失败',
        '0405' => '时间验证失败',
        '0406' => '时间转换类型失败',
        '0407' => '开始时间不能大于结束时间',
        '0408' => '查询时间最大范围只能15天以内',
        '0409' => '创建网关返回商户结果失败',
        '0410' => '查询验签失败',
        '0411' => '查询订单不存在',
    ];

    private $errorCode = [
        'A0000120' => '订单不存在',
        'A0001230' => '银行返回系统异常',
        'A0001149' => '请求频率超过银行限制，请降低频率稍后再试',
        'A0001124' => '交易失败，因风控原因拒绝',
        'A0000274' => '交易额度超限',
        'A0001355' => '请求参数有误',
        'A0001209' => '订单号重复',
        'A0001233' => 'appid与子商户号不匹配',
        'A0000317' => '接口格式错误',
        'A0001354' => '无效请求，请核实请求信息',
        'A0000661' => '退款请求处理失败',
        'A0000663' => '退款状态异常',
        'A0000130' => '订单已超出退款期限，不能发起退款操作',
        'A0000775' => '银行支付异常',
        'A0001356' => '授权码检验错误，请重新核实',
        'A0001201' => '请求银行返回错误',
        'A0001235' => '报备编号未找到,或状态不可用，请更换报备编号',
        'A0001208' => 'APPID 不存在，请核实后交易',
        'A0001207' => '支付帐号错误',
        'A0000531' => '商户签名验签失败',
        'A0001206' => '用户支付中，需要输入密码',
        'A0001205' => '银行系统异常',
        'A0000135' => '订单已经撤销',
        'A0000133' => '订单已关闭',
        'A0000340' => '卡类型不支持',
        'A0000819' => '余额不足',
        'A0001204' => '二维码已过期',
        'A0001203' => '商户无权限',
        'A0001202' => '订单已支付，请勿重复支付',
        'A0001090' => '银联UrlPay获取失败',
        'A0001333' => '支付失败，获取顾客账户信息失败，请顾客刷新付款码后重新收款，如再次收款失败，请联系管理员处理',
        'A0001332' => '支付失败，付款人不匹配',
        'A0001234' => '银行返回处理超时',
        'A0001232' => '订单失败',
        'A0001231' => '银行返回请求支付宝错误',
        'A0001229' => '银行返回交易结果未知',
        'A0001228' => '商户收款功能已暂停，请联系合作方进行处理',
        'A0001227' => '买家不存在',
        'A0001226' => '申请二维码失败',
        'A0001217' => '买家认证不通过，无法继续交易。',
        'A0001216' => '银行返回流水不存在',
        'A0001215' => '支付失败，非法的年龄格式，请顾客刷新付款码后重新收款。如再次收款失败，请联系管理员处理。',
        'A0001213' => '子商户状态异常',
        'A0001358' => '商户渠道进件ID上传有误',
        'A0001210' => '商户不存在或不支持支付类型',
        'A0001211' => '银行维护暂停服务',
        'A0001212' => '商户日累计金额超限，请隔日再试',
        'A0001200' => 'appid未报备，请联系运营人员进行报备',
        'A0000973' => '非商户所属用户',
        'A0000974' => '手机号已被注册',
        'A0000975' => '用户已实名认证',
        'A0000976' => '仅支持绑定借记卡',
        'A0000990' => '用户ID不能为空',
        'A0000950' => '总金额超限',
        'A0000949' => '总金额不符',
        'A0000947' => '总笔数超限',
        'A0000946' => '总笔数不符',
        'A0000931' => '重复支付的订单',
        'A0000731' => '验签失败',
        'A0000705' => '系统忙，请稍后提交',
        'A0000662' => '退款失败',
        'A0000660' => '退款目的地类型错误',
        'A0000659' => '退款类型错误',
        'A0000658' => '退款金额与支付金额不一致',
        'A0000657' => '退款记录不存在',
        'A0000625' => '手续费金额不能大于交易金额',
        'A0000533' => '商户请求参数的新生时间错',
        'A0000532' => '商户请求参数tranIP错',
        'A0000530' => '商户客户ID错误',
        'A0000529' => '商户可用余额小于退款金额，无法强制退款！',
        'A0000528' => '商户可用余额小于退款金额',
        'A0000527' => '商户号不正确',
        'A0000482' => '请求日期不正确',
        'A0000481' => '请求清算标志与银行清算日期配置不符',
        'A0000480' => '请求过快，请重试',
        'A0000474' => '请求IP错误',
        'A0000397' => '累计退款总金额大于原交易金额',
        'A0000171' => '风控拒绝',
        'A0000001' => '交易失败',
        '100E8004' => '验签失败',
        '100E1073' => '查询开始时间错误',
        '100E1074' => '查询结束时间错误',
        '100E5146' => '查询时间间隔大于15天',
        '100E1001' => '版本号错误',
        '100E5120' => '请求序列号错误',
        '100E5147' => '查询模式错误',
        '100E5142' => '查询类型错误',
        '100E5139' => '查询订单号错误',
        '100E1006' => '商户ID错误',
        '100E1104' => '备注错误',
        '100E1002' => '字符集错',
        'A0000074' => '查询模式错误',
        'A0000073' => '查询类型错误',
        'A0000072' => '查询开始时间错误',
        'A0000071' => '查询结束时间错误',
        'A0000069' => '查询交易来源错误',
        'A0000068' => '查询订单状态错误',
        'A0000067' => '查询订单号错误',
        'A0000945' => '字符集错',
        'A0001240' => '订单标题为空',
        'A0001239' => '商品信息为空',
        'A0001238' => '订单标题长度过长',
        'A0001237' => '非交易时间，请稍后再试',
        'A0000397' => '累计退款总金额大于原交易金额',
        'A0001437' => '已达到当日最大进件数',
        'A0000000' => '交易成功',
        'A0000001' => '交易失败',
        'A0000016' => '版本号错误',
        'A0000027' => '并发异常',
        'A0000030' => '不允许删除操作',
        'A0000031' => '不允许重复退货',
        'A0000032' => '不支持付款到信用卡',
        'A0000035' => '不支持该付款方式',
        'A0000036' => '不支持该交易通道',
        'A0000043' => '财务处理中',
        'A0000044' => '参数amountType格式不正确，应为RMB',
        'A0000045' => '参数amount格式不正确，应为1-12位整数',
        'A0000046' => '参数bank格式不正确，应为1-10位字母或银行代码不支持',
        'A0000047' => '参数expand格式不正确，应为1-400位数字字母',
        'A0000048' => '参数expireTime格式不正确，应为1-10位整数',
        'A0000049' => '参数isThroughBis格式不正确，应为1或0',
        'A0000050' => '参数isThroughBis为1时不支持此银行',
        'A0000051' => '参数notifyUrl格式不正确，应为http或https开头合法地址',
        'A0000052' => '参数orderID格式不正确，应为1-30为数字字母',
        'A0000053' => '参数platformDate格式不正确，格式为yyyyMMddHHmmss',
        'A0000054' => '参数platformID格式不正确，应为1-10位数字字母',
        'A0000055' => '参数queryType错误',
        'A0000056' => '参数returnUrl格式不正确，应为http或https开头合法地址',
        'A0000057' => '参数signType格式不正确，只能为1',
        'A0000058' => '参数sign格式不正确,应为1-500位数字字母',
        'A0000059' => '参数tradeType格式不正确，应为1或2',
        'A0000060' => '参数userIP格式不正确，应为合法ip地址',
        'A0000061' => '参数不正确',
        'A0000063' => '操作延期时间错误',
        'A0000067' => '查询订单号错误',
        'A0000068' => '查询订单状态错误',
        'A0000069' => '查询交易来源错误',
        'A0000070' => '查询交易失败',
        'A0000071' => '查询结束时间错误',
        'A0000072' => '查询开始时间错误',
        'A0000073' => '查询类型错误',
        'A0000074' => '查询模式错误',
        'A0000075' => '查询签约方类型错误',
        'A0000076' => '查询签约状态错误',
        'A0000077' => '查询请求与退款申请不符',
        'A0000078' => '查询失败',
        'A0000079' => '查询时间间隔大于15天',
        'A0000080' => '查询无响应',
        'A0000081' => '查询页记录条数错误',
        'A0000082' => '查询页码错误',
        'A0000083' => '产品内部通道关联关系已注销',
        'A0000084' => '撤销订单异常',
        'A0000085' => '撤销金额与支付金额不一致',
        'A0000086' => '冲正成功',
        'A0000087' => '冲正交易不存在',
        'A0000088' => '冲正金额与支付金额不一致',
        'A0000089' => '冲正日期跟支付日期不是同一天',
        'A0000090' => '冲正失败',
        'A0000091' => '出款收款方账户类型错误',
        'A0000093' => '处理掉单成功',
        'A0000094' => '传入参数:支付协议ID与业务协议ID不能同时为空',
        'A0000095' => '存储过程执行异常',
        'A0000096' => '存在多条重复的错误码记录',
        'A0000097' => '存在多条重复的记录',
        'A0000098' => '存在审核状态的方案信息',
        'A0000099' => '错误码不存在',
        'A0000112' => '等待银行通知',
        'A0000113' => '电话号码格式错误',
        'A0000120' => '订单不存在',
        'A0000121' => '订单过期时长格式错误',
        'A0000122' => '订单号格式错误',
        'A0000123' => '订单号验证错误',
        'A0000124' => '订单号重复',
        'A0000125' => '订单明细金额格式错误',
        'A0000126' => '订单明细信息格式错误',
        'A0000128' => '订单调整记录不存在',
        'A0000129' => '订单未支付，请继续支付',
        'A0000130' => '订单已超出退款期限，不能发起退款操作',
        'A0000131' => '订单已成功，请勿重复支付',
        'A0000132' => '订单已存在',
        'A0000133' => '订单已关闭',
        'A0000134' => '订单已过期请重新下单',
        'A0000135' => '订单已经撤销',
        'A0000136' => '订单已经审核',
        'A0000137' => '订单状态异常',
        'A0000138' => '订单总金额错误',
        'A0000967' => '条形码错误',
        'A0000968' => '订单标题错误',
        'A0001482' => '报备编号格式错误',
        'A0001483' => '设备编号格式错误',
        'A0001484' => '设备类型格式错误',
        'A0001485' => '终端序列号格式错误',
        'A0001486' => '终端布放地址格式错误',
        'A0001487' => '报备编号错误',
        'A0001488' => '设备编号不存在或已注销',
        'A0001489' => '终端设备ip格式错误',
        'A0001490' => '终端实时经纬度,终端设备IP都为空',
        'A0001491' => '终端实时经纬度格式错误',
    ];

    private $orderFailedCode = [
        '20001' => '作废',
        '20002' => '失效',
        '20003' => '审批不通过',
        '90000' => '系统处理异常',
        '90001' => '系统处理超时',
        '90101' => '外部清算系统处理异常',
        '90102' => '外部清算系统订单金额异常',
        '90201' => '核心账务系统处理异常',
        '90301' => '交易未通过风控校验',
    ];

    private $bank = [
        'ICBC' => '工商银行',
        'JCB' => '晋城银行',
        'ABC' => '农业银行',
        'JJCCB' => '九江银行',
        'PSBC' => '邮政储蓄银行',
        'JLB' => '吉林银行',
        'CCB' => '建设银行',
        'JLNX' => '吉林农信',
        'CMB' => '招商银行',
        'JNRCB' => '江南农商',
        'BOC' => '中国银行',
        'JRCB' => '江阴农商行',
        'COMM' => '交通银行',
        'JSHB' => '晋商银行',
        'SPDB' => '浦发银行',
        'HAINNX' => '海南农信',
        'GDB' => '广发银行',
        'GLB' => '桂林银行',
        'CMBC' => '民生银行',
        'GRCB' => '广州农商银行',
        'PAB' => '平安银行',
        'GSB' => '甘肃银行',
        'CEB' => '光大银行',
        'GSNX' => '甘肃农信',
        'CIB' => '兴业银行',
        'GXNX' => '广西农信',
        'CITIC' => '中信银行',
        'GYCB' => '贵阳银行',
        'BOSH' => '上海银行',
        'GZNX' => '贵州农信',
        'CRB' => '华润银行',
        'HKB' => '汉口银行',
        'HZB' => '杭州银行',
        'HANAB' => '韩亚银行',
        'BSB' => '包商银行',
        'HBCB' => '湖北银行',
        'CQB' => '重庆银行',
        'HBNX' => '湖北农信',
        'SDEB' => '顺德农商行',
        'HDCB' => '邯郸银行',
        'SZRCB' => '深圳农商银行',
        'HEBNX' => '河北农信',
        'HRBB' => '哈尔滨银行',
        'HFB' => '恒丰银行',
        'BOCD' => '成都银行',
        'HKBEA' => '东亚银行',
        'GDNYB' => '南粤银行',
        'MASTERCARD' => 'MASTERCARD',
        'GZCB' => '广州银行',
        'VISA' => 'VISA',
        'JSB' => '江苏银行',
        'BOLFB' => '廊坊银行',
        'NBCB' => '宁波银行',
        'CCAB' => '长安银行',
        'NJCB' => '南京银行',
        'CBHB' => '渤海银行',
        'QHNX' => '青海农信',
        'CDRCB' => '成都农商银行',
        'ORDOSB' => '鄂尔多斯银行',
        'BYK' => '营口银行',
        'BJRCB' => '北京农商',
        'BOZ' => '张家口市商业银行',
        'BHB' => '河北银行',
        'BOTSB' => '唐山银行',
        'BGZB' => '贵州银行',
        'BOSZS' => '石嘴山银行',
        'BEEB' => '鄞州银行',
        'BOSXB' => '绍兴银行',
        'PZHCCB' => '攀枝花银行',
        'BONX' => '宁夏银行',
        'QDCCB' => '青岛银行',
        'GDHX' => '广东华兴银行',
        'SHINHAN' => '新韩银行',
        'BOLB' => '洛阳银行',
        'QLB' => '齐鲁银行',
        'BOJX' => '嘉兴银行',
        'QSB' => '齐商银行',
        'BOIMCB' => '内蒙古银行',
        'ZZB' => '郑州银行',
        'BOHN' => '海南银行',
        'CCAB' => '长安银行',
        'BOD' => '东莞银行',
        'RZB' => '日照银行',
        'CQRCB' => '重庆农商银行',
        'SCNX' => '四川农信',
        'CQTGB' => '重庆三峡银行',
        'SDRCU' => '山东农信',
        'CSCB' => '长沙银行',
        'BCZ' => '沧州银行',
        'BOB' => '北京银行',
        'SJB' => '盛京银行',
        'GDRCU' => '广东农信银行',
        'LNNX' => '辽宁农信',
        'HRXJB' => '华融湘江银行',
        'JUFENGB' => '临朐聚丰村镇银行',
        'HSBC' => '恒生银行',
        'JXNXB' => '江西农信',
        'HSB' => '徽商银行',
        'JZB' => '晋中银行',
        'HUNNX' => '湖南农信',
        'JZCB' => '锦州银行',
        'HUSRB' => '湖商村镇银行',
        'KLB' => '昆仑银行',
        'HXB' => '华夏银行',
        'KRCB' => '昆山农商',
        'HNNX' => '河南农信',
        'KUERLECB' => '库尔勒市商业银行',
        'BNC' => '江西银行',
        'LJB' => '龙江银行',
        'BJRCB' => '北京农商行',
        'NYCCB' => '南阳村镇银行',
        'CSRCB' => '常熟农商银行',
        'LSCCB' => '乐山市商业银行',
        'CZB' => '浙商银行',
        'LUZB' => '柳州银行',
        'CZCB' => '稠州银行',
        'LWB' => '莱商银行',
        'DANDONGB' => '丹东银行',
        'LYYHB' => '辽阳银行',
        'DLB' => '大连银行',
        'LZB' => '兰州银行',
        'DRCB' => '东莞农商银行',
        'MINTAIB' => '民泰银行',
        'DYB' => '东营银行',
        'NCB' => '宁波通商银行',
        'DYCCB' => '德阳银行',
        'NMGNX' => '内蒙古农信',
        'FBB' => '富邦华一银行',
        'XAB' => '西安银行',
        'FDB' => '富滇银行',
        'WFB' => '潍坊银行',
        'FJHXB' => '福建海峡银行',
        'WHB' => '威海商业银行',
        'FJNX' => '福建农信银行',
        'WHRC' => '武汉农商',
        'FUXINB' => '阜新银行',
        'WJRCB' => '吴江农商行',
        'BOCDB' => '承德银行',
        'WLMQB' => '乌鲁木齐银行',
        'JSNX' => '江苏农商行',
        'WRCB' => '无锡农商',
        'AE' => 'AE',
        'WZB' => '温州银行',
        'TACCB' => '泰安银行',
        'WEB' => '微众银行',
        'TCRCB' => '太仓农商行',
        'XIB' => '厦门国际银行',
        'TJBHB' => '天津滨海农商行',
        'XJRCCB' => '新疆农信银行',
        'TJB' => '天津银行',
        'XMCCB' => '厦门银行',
        'TRCB' => '天津农商',
        'YNRCCB' => '云南农信',
        'TZB' => '台州银行',
        'YRRCB' => '黄河农商银行',
        'URB' => '联合村镇银行',
        'YTB' => '烟台银行',
        'BCZ' => '沧州银行',
        'ZJB' => '紫金农商银行',
        'SRB' => '上饶银行',
        'ZJLXRB' => '兰溪越商银行',
        'ZYB' => '中原银行',
        'ZJRCUB' => '浙江农信',
        'ZRCB' => '张家港农商行',
        'UPQUICKPASS' => '云闪付APP',
        'SRCB' => '上海农商银行',
        'SXXH' => '陕西信合',
        'ZJTLCB' => '浙江泰隆银行',
        'AHRCUB' => '安徽省农村信用社联合社',
        'SXNX' => '山西农信',
        'SUZB' => '苏州银行',
        'OTHERS' => '其他'
    ];

    /**
     * 处理结果码
     * 9.1 附录一
     * 文档地址：https://www.yuque.com/chenyanfei-sjuaz/uhng8q/ex7z8h
     *
     * @param $code
     * @return string
     */
    public function getResultCode($code): string
    {
        if (isset($this->resultCode[$code])) {
            return $this->resultCode[$code];
        }

        return 'Unknown';
    }

    /**
     * 异常代码
     * 9.2 附录二
     * 文档地址：https://www.yuque.com/chenyanfei-sjuaz/uhng8q/esczg9
     *
     * @param $code
     * @return string
     */
    public function getErrorCode($code): string
    {
        if (isset($this->errorCode[$code])) {
            return $this->errorCode[$code];
        }

        return 'Unknown';
    }

    /**
     * 订单失败返回码
     * 文档地址：https://www.yuque.com/chenyanfei-sjuaz/uhng8q/bfcc86#JzU5l
     *
     * @param $code
     * @return string
     */
    public function getOrderFailedCode($code): string
    {
        if (isset($this->orderFailedCode[$code])) {
            return $this->orderFailedCode[$code];
        }

        return 'Unknown';
    }

}
